(this["webpackJsonpifa-learning-app"]=this["webpackJsonpifa-learning-app"]||[]).push([[94],{1592:function(e,t,n){"use strict";n.r(t);n(290);var a=n(296),r=n(80),i=n(1),o=n.n(i),s=n(62),c=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=function(e){var t=e.domain,n=void 0===t?"meet.jit.si":t,a=e.parentNode,r=e.subject,o=e.password,s=e.displayName,c=e.onMeetingEnd,p=d(e,["domain","parentNode","subject","password","displayName","onMeetingEnd"]),m=Object(i.useState)(!0),f=u(m,2),g=f[0],j=f[1],b=Object(i.useState)(null),w=u(b,2),h=w[0],y=w[1],v=Object(i.useState)(null),E=u(v,2),O=E[0],S=E[1];return Object(i.useEffect)((function(){if(window.JitsiMeetExternalAPI){if(p.parentNode=document.getElementById(a),p.parentNode){var e=new window.JitsiMeetExternalAPI(n,l({},p));return S(e),j(!1),y(null),r&&e.executeCommand("subject",r),e.addEventListener("videoConferenceJoined",(function(){o&&e.executeCommand("password",o),s&&e.executeCommand("displayName",s)})),e.addEventListener("passwordRequired",(function(){o&&e.executeCommand("password",o)})),c&&e.addEventListener("readyToClose",c),function(){return O&&O.dispose()}}y('Parent node is not available, check container have the correct id: "'+a+'"')}else y("JitsiMeetExternalAPI is not available, check if https://meet.jit.si/external_api.js was loaded")}),[window.JitsiMeetExternalAPI]),{jitsi:O,error:h,loading:g}};p.propTypes={options:c.a.shape({domain:c.a.string,roomName:c.a.string.isRequired,subject:c.a.string,password:c.a.string,displayName:c.a.string,onMeetingEnd:c.a.func,width:c.a.string,height:c.a.string,parentNode:c.a.string,configOverwrite:c.a.object,interfaceConfigOverwrite:c.a.object,noSSL:c.a.bool,jwt:c.a.string,onload:c.a.func,invitees:c.a.array,devices:c.a.object,userInfo:c.a.object})};var m=function(e){var t=e.loadingComponent,n=e.errorComponent,a=e.containerStyles,r=e.jitsiContainerStyles,s=e.onError,c=e.onJitsi,u=d(e,["loadingComponent","errorComponent","containerStyles","jitsiContainerStyles","onError","onJitsi"]),m=p(l({parentNode:"jitsi-container"},u)),f=m.loading,g=m.error,j=m.jitsi;return Object(i.useEffect)((function(){j&&c&&c(j)}),[j]),Object(i.useEffect)((function(){g&&s&&s(g)}),[g]),o.a.createElement("div",{style:l({width:"800px",height:"400px"},a)},g&&(n||o.a.createElement("p",null,g)),!g&&f&&(t||o.a.createElement("p",null,"Loading ...")),o.a.createElement("div",{id:"jitsi-container",style:l({display:f?"none":"block",width:"100%",height:"100%"},r)}))};m.propTypes={jwt:c.a.string,domain:c.a.string,subject:c.a.string,password:c.a.string,roomName:c.a.string.isRequired,displayName:c.a.string,onMeetingEnd:c.a.func,loadingComponent:c.a.object,errorComponent:c.a.object,containerStyles:c.a.object,jitsiContainerStyles:c.a.object,configOverwrite:c.a.object,interfaceConfigOverwrite:c.a.object,onError:c.a.func,onJitsi:c.a.func};var f=n(518),g=JSON.parse(localStorage.getItem("@current_user"));t.default=function(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)(""),l=Object(r.a)(c,2),d=l[0],u=l[1],p=Object(i.useState)(!1),j=Object(r.a)(p,2),b=j[0],w=j[1],h=Object(i.useState)(!1),y=Object(r.a)(h,2),v=y[0],E=y[1],O=Object(f.h)().roomID;return Object(i.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("full_name");g||e?(s(O),u(e||g.first_name+" "+g.last_name),w(!0)):E(!0)}),[]),v?o.a.createElement(a.a,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page. ".concat(window.location.search)}):b?o.a.createElement(m,{domain:"jitsi.smarte.edu.vn",roomName:n,displayName:d,password:"854530",loadingComponent:o.a.createElement("p",null,"loading ..."),errorComponent:o.a.createElement("p",null,"Oops, something went wrong"),containerStyles:{width:"100%",height:window.innerHeight}}):o.a.createElement("form",null,"...")}}}]);